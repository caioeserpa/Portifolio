{"version":3,"file":"components/row-selection-controller.js","mappings":"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","sources":["webpack://jenkins-ui/./src/main/js/components/row-selection-controller/index.js"],"sourcesContent":["const rowSelectionControllers = document.querySelectorAll(\n  \".jenkins-table__checkbox\"\n);\n\nrowSelectionControllers.forEach((headerCheckbox) => {\n  const table = headerCheckbox.closest(\".jenkins-table\");\n  const tableCheckboxes = table.querySelectorAll(\"input[type='checkbox']\");\n  const moreOptionsButton = table.querySelector(\n    \".jenkins-table__checkbox-options\"\n  );\n  const moreOptionsDropdown = table.querySelector(\n    \".jenkins-table__checkbox-dropdown\"\n  );\n  const moreOptionsAllButton = table.querySelector(\"[data-select='all']\");\n  const moreOptionsNoneButton = table.querySelector(\"[data-select='none']\");\n\n  if (tableCheckboxes.length === 0) {\n    headerCheckbox.disabled = true;\n    if (moreOptionsButton) {\n      moreOptionsButton.disabled = true;\n    }\n  }\n\n  const allCheckboxesSelected = () => {\n    return (\n      tableCheckboxes.length ===\n      [...tableCheckboxes].filter((e) => e.checked).length\n    );\n  };\n\n  const anyCheckboxesSelected = () => {\n    return [...tableCheckboxes].filter((e) => e.checked).length > 0;\n  };\n\n  tableCheckboxes.forEach((checkbox) => {\n    checkbox.addEventListener(\"change\", () => {\n      updateIcon();\n    });\n  });\n\n  headerCheckbox.addEventListener(\"click\", () => {\n    const newValue = !allCheckboxesSelected();\n    tableCheckboxes.forEach((e) => (e.checked = newValue));\n    updateIcon();\n  });\n\n  moreOptionsAllButton?.addEventListener(\"click\", () => {\n    tableCheckboxes.forEach((e) => (e.checked = true));\n    updateIcon();\n  });\n\n  moreOptionsNoneButton?.addEventListener(\"click\", () => {\n    tableCheckboxes.forEach((e) => (e.checked = false));\n    updateIcon();\n  });\n\n  function updateIcon() {\n    headerCheckbox.classList.remove(\"jenkins-table__checkbox--all\");\n    headerCheckbox.classList.remove(\"jenkins-table__checkbox--indeterminate\");\n    moreOptionsDropdown?.classList.remove(\n      \"jenkins-table__checkbox-dropdown--visible\"\n    );\n\n    if (allCheckboxesSelected()) {\n      headerCheckbox.classList.add(\"jenkins-table__checkbox--all\");\n      return;\n    }\n\n    if (anyCheckboxesSelected()) {\n      headerCheckbox.classList.add(\"jenkins-table__checkbox--indeterminate\");\n    }\n  }\n\n  document.addEventListener(\"click\", (event) => {\n    if (\n      moreOptionsDropdown?.contains(event.target) ||\n      event.target === moreOptionsButton\n    ) {\n      return;\n    }\n\n    moreOptionsDropdown?.classList.remove(\n      \"jenkins-table__checkbox-dropdown--visible\"\n    );\n  });\n\n  moreOptionsButton?.addEventListener(\"click\", () => {\n    moreOptionsDropdown.classList.toggle(\n      \"jenkins-table__checkbox-dropdown--visible\"\n    );\n  });\n\n  window.updateTableHeaderCheckbox = updateIcon;\n});\n"],"names":["rowSelectionControllers","document","querySelectorAll","forEach","headerCheckbox","table","closest","tableCheckboxes","moreOptionsButton","querySelector","moreOptionsDropdown","moreOptionsAllButton","moreOptionsNoneButton","length","disabled","allCheckboxesSelected","filter","e","checked","anyCheckboxesSelected","checkbox","addEventListener","updateIcon","newValue","classList","remove","add","event","contains","target","toggle","window","updateTableHeaderCheckbox"],"sourceRoot":""}